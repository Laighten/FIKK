#### 一、原理及概念的理解

**目的：**去掉一些我们应用程序中没有使用的一些代码，这样能让我们的代码体积变得更小（**减少打包代码体积**）。这些无用的代码可能是无用的js代码也可能是一些无用的css代码。

**原理:** 由于是在编译时优化，因此最基本的前提就是语法的静态分析，ES6的模块机制提供了这种可能性。不需要运行时，便可进行代码字面上的静态分析，确定相应的依赖关系。

- `ES6 Module` 引入进行静态分析，故而编译的时候正确判断到底加载了那些模块；
- 静态分析程序流，判断那些模块和变量未被使用或者引用，进而删除对应代码；

> **CommonJS的动态特性模块意味着tree shaking不适用**。因为它是不可能确定哪些模块实际运行之前是需要的或者是不需要的。

**在webpack 中使用Tree-shaking处理js代码的前提**：

1. 必须使用ES6模块；
2. 开启production环境；

```js
//在package.json中配置
“sideEffects”:false
//所有代码都没有副作用（都可以进行tree shaking）
//问题：可能会把css  /  @babel-polyfill（即直接引入但没有用的css代码）文件给干掉
//改成：
“sideEffects“:["*.css","*.less"]  //这样css代码就就不会被干掉
```

